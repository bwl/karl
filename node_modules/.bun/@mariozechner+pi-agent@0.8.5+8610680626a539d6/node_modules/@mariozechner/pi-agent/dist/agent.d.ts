import type { Message } from "@mariozechner/pi-ai";
import type { AgentTransport } from "./transports/types.js";
import type { AgentEvent, AgentState, AppMessage, Attachment, ThinkingLevel } from "./types.js";
export interface AgentOptions {
    initialState?: Partial<AgentState>;
    transport: AgentTransport;
    messageTransformer?: (messages: AppMessage[]) => Message[] | Promise<Message[]>;
    queueMode?: "all" | "one-at-a-time";
}
export declare class Agent {
    private _state;
    private listeners;
    private abortController?;
    private transport;
    private messageTransformer;
    private messageQueue;
    private queueMode;
    constructor(opts: AgentOptions);
    get state(): AgentState;
    subscribe(fn: (e: AgentEvent) => void): () => void;
    setSystemPrompt(v: string): void;
    setModel(m: typeof this._state.model): void;
    setThinkingLevel(l: ThinkingLevel): void;
    setQueueMode(mode: "all" | "one-at-a-time"): void;
    getQueueMode(): "all" | "one-at-a-time";
    setTools(t: typeof this._state.tools): void;
    replaceMessages(ms: AppMessage[]): void;
    appendMessage(m: AppMessage): void;
    queueMessage(m: AppMessage): Promise<void>;
    clearMessageQueue(): void;
    clearMessages(): void;
    abort(): void;
    prompt(input: string, attachments?: Attachment[]): Promise<void>;
    private emit;
}
//# sourceMappingURL=agent.d.ts.map