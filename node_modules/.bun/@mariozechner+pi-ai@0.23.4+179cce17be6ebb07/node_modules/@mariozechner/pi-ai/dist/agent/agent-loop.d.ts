import { streamSimple } from "../stream.js";
import type { UserMessage } from "../types.js";
import { EventStream } from "../utils/event-stream.js";
import type { AgentContext, AgentEvent, AgentLoopConfig } from "./types.js";
/**
 * Start an agent loop with a new user message.
 * The prompt is added to the context and events are emitted for it.
 */
export declare function agentLoop(prompt: UserMessage, context: AgentContext, config: AgentLoopConfig, signal?: AbortSignal, streamFn?: typeof streamSimple): EventStream<AgentEvent, AgentContext["messages"]>;
/**
 * Continue an agent loop from the current context without adding a new message.
 * Used for retry after overflow - context already has user message or tool results.
 * Throws if the last message is not a user message or tool result.
 */
export declare function agentLoopContinue(context: AgentContext, config: AgentLoopConfig, signal?: AbortSignal, streamFn?: typeof streamSimple): EventStream<AgentEvent, AgentContext["messages"]>;
//# sourceMappingURL=agent-loop.d.ts.map